<!DOCTYPE html>
<html>

<head>
    <title>3D Skills Table</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<script src="js/three.min.js"></script>
    <script src="js/tween.min.js"></script>
    <script src="js/controls/TrackballControls.js"></script>
    <script src="js/renderers/CSS3DRenderer.js"></script>

    <div id="container">
    <div id="info"><a href="https://www.youtube.com/channel/UCFotI98pUbvod-OCe6r1xxA/videos" target="_blank">My Skills Table </a></div>    
    </div>

    <div id="menu">
        <button id="table">TABLE</button>
        <button id="sphere">SPHERE</button>
        <button id="helix">HELIX</button>
        <button id="grid">GRID</button>
    </div>

    <script type="text/javascript">
    	var table = [
		
			["Ml", "...", "Machine Learning", 2, 1],
			["Ls", "...", "Active Listening", 18, 1],
            ["Pa", "...", "Patience", 20, 1],
        
            ["Py", "...", "Python", 2, 3],
			["Mt", "...", "Matplotlib", 4, 3],
			["Ct", "...", "Critical Thinking", 6, 3],
            ["Pd", "...", "Pandas", 14, 3],
            ["Np", "...", "Numpy", 16, 3],
            ["Nx", "...", "Networkx", 18, 3],
			["Rs", "...", "Research", 20, 3],
           
            ["S", "...", "SQL", 2, 5],
            ["C", "...", "C", 4, 5],
            ["Jv", "...", "Java", 6, 5],
            ["Ht", "...", "HTML5", 8, 5],
            ["Cs", "...", "CSS3", 10, 5],
            ["Ms", "...", "MS Excel", 12, 5],
            ["Tb", "...", "Tableau", 14, 5],
            ["Or", "...", "Oracle", 16, 5],
            ["Ps", "...", "PostgreSQL", 18, 5],
			["Da", "...", "Data Analysis", 20, 5],
           
            ["Vs", "...", "VSCode", 2, 7],
            ["Gh", "...", "GitHub", 4, 7],
            ["G", "...", "Git", 6, 7],
            ["Gp", "...", "Gephi", 8, 7],
            ["Cv", "...", "Canva", 10, 7],
            ["No", "...", "Notion", 12, 7],
            ["Pb", "...", "Problem Solving", 14, 7],
            ["Tm", "...", "Time Management", 16, 7],
            ["At", "...", "Analytical Thinking", 18, 7],
			["Cv", "...", "Computer Vision", 20, 7],
			
            ["Pt", "...", "Prioritization", 6, 9],
            ["Og", "...", "Organization", 8, 9],
            ["Om", "...", "Open mindedness", 10, 9],
            ["Dt", "...", "Detail oriented", 12, 9],
            ["Lt", "...", "Logical Thinking", 14, 9],
            ["Rs", "...", "Responsible", 16, 9],
			["Em", "...", "Empathy", 18, 9]

        ];

        var camera, scene, renderer;
        var geometry, material, mesh;

        var controls;

        var objects = [];
        var targets = { table: [], sphere: [], helix: [], grid: [] };

        init();
        animate();

        function init() {

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 5000);
            camera.position.z = 1800;

            scene = new THREE.Scene();

            for (var i = 0; i < table.length; i++) {

                var item = table[i];

                var element = document.createElement('div');
                element.className = 'element';
                element.style.backgroundColor = 'rgba(0,127,127,' + (Math.random() * 0.5 + 0.25) + ')';

                var number = document.createElement('div');
                number.className = 'number';
                number.textContent = i + 1;
                element.appendChild(number);

                var symbol = document.createElement('div');
                symbol.className = 'symbol';
                symbol.textContent = item[0];
                element.appendChild(symbol);

                var details = document.createElement('div');
                details.className = 'details';
                details.innerHTML = item[1] + '<br>' + item[2];
                element.appendChild(details);

                var object = new THREE.CSS3DObject(element);
                object.position.x = Math.random() * 4000 - 2000;
                object.position.y = Math.random() * 4000 - 2000;
                object.position.z = Math.random() * 4000 - 2000;
                scene.add(object);

                objects.push(object);

            }

            // -------  table  sphere   helix   grid ------- //

            // table

            for (var i = 0; i < objects.length; i++) {

                var item = table[i];
                var object = objects[i];

                var object = new THREE.Object3D();
                object.position.x = (item[3] * 160) - 1540;
                object.position.y = -(item[4] * 200) + 1100;

                targets.table.push(object);

            }

            // sphere

            var vector = new THREE.Vector3();

            for (var i = 0, l = objects.length; i < l; i++) {

                var object = objects[i];

                var phi = Math.acos(-1 + (2 * i) / l);
                var theta = Math.sqrt(l * Math.PI) * phi;

                var object = new THREE.Object3D();

                object.position.x = 1000 * Math.cos(theta) * Math.sin(phi);
                object.position.y = 1000 * Math.sin(theta) * Math.sin(phi);
                object.position.z = 1000 * Math.cos(phi);

                vector.copy(object.position).multiplyScalar(2);

                object.lookAt(vector);

                targets.sphere.push(object);

            }

            // helix

            var vector = new THREE.Vector3();

            for (var i = 0, l = objects.length; i < l; i++) {

                var object = objects[i];

                var phi = i * 0.175 + Math.PI;

                var object = new THREE.Object3D();

                object.position.x = 1100 * Math.sin(phi);
                object.position.y = -(i * 8) + 450;
                object.position.z = 1100 * Math.cos(phi);

                vector.copy(object.position);
                vector.x *= 2;
                vector.z *= 2;

                object.lookAt(vector);

                targets.helix.push(object);

            }

            // grid

            for (var i = 0; i < objects.length; i++) {

                var object = objects[i];

                var object = new THREE.Object3D();

                object.position.x = ((i % 5) * 400) - 800;
                object.position.y = (-(Math.floor(i / 5) % 5) * 400) + 800;
                object.position.z = (Math.floor(i / 25)) * 1000 - 2000;

                targets.grid.push(object);

            }

            // -------  table  sphere   helix   grid ------- //

            //

            renderer = new THREE.CSS3DRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.domElement.style.position = 'absolute';
            renderer.domElement.style.top = 0;
            document.getElementById('container').appendChild(renderer.domElement);

            //

            controls = new THREE.TrackballControls(camera, renderer.domElement);
            controls.rotateSpeed = 0.5;
            controls.addEventListener('change', render);

            var button = document.getElementById('table');
            button.addEventListener('click', function(event) {

                transform(targets.table, 2000);

            }, false);

            var button = document.getElementById('sphere');
            button.addEventListener('click', function(event) {

                transform(targets.sphere, 2000);

            }, false);

            var button = document.getElementById('helix');
            button.addEventListener('click', function(event) {

                transform(targets.helix, 2000);

            }, false);

            var button = document.getElementById('grid');
            button.addEventListener('click', function(event) {

                transform(targets.grid, 2000);

            }, false);

            transform(targets.table, 5000);

            //

            window.addEventListener('resize', onWindowResize, false);

        }

        function transform(targets, duration) {

            TWEEN.removeAll();

            for (var i = 0; i < objects.length; i++) {

                var object = objects[i];
                var target = targets[i];

                new TWEEN.Tween(object.position)
                    .to({ x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration)
                    .easing(TWEEN.Easing.Exponential.InOut)
                    .start();

                new TWEEN.Tween(object.rotation)
                    .to({ x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration)
                    .easing(TWEEN.Easing.Exponential.InOut)
                    .start();

            }

            new TWEEN.Tween(this)
                .to({}, duration * 2)
                .onUpdate(render)
                .start();

        }

        function onWindowResize() {

            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize(window.innerWidth, window.innerHeight);

        }

        function animate() {

            requestAnimationFrame(animate);

            TWEEN.update();
            controls.update();

        }

        function render() {

            renderer.render(scene, camera);

        }
    </script>
</body>

</html>